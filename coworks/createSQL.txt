---- 관리자 계정에서 계정 생성
---- ID: COWORKS
---- PW: COWORKS_
--
--CREATE USER COWORKS IDENTIFIED BY COWORKS_;
--GRANT CONNECT, RESOURCE, CREATE VIEW TO COWORKS;
--
----------------------------------------------------------

-- 테이블 삭제 폼
DROP TABLE APPROVATTACH CASCADE CONSTRAINTS;
DROP TABLE APPROVDOC CASCADE CONSTRAINTS;
DROP TABLE APPROVFORM CASCADE CONSTRAINTS;
DROP TABLE APPROVSTATUS CASCADE CONSTRAINTS;
DROP TABLE ATTACH CASCADE CONSTRAINTS;
DROP TABLE ATTENDANCE CASCADE CONSTRAINTS;
DROP TABLE AUTHORITY CASCADE CONSTRAINTS;
DROP TABLE BOARD CASCADE CONSTRAINTS;
DROP TABLE BOARDGROUP CASCADE CONSTRAINTS;
DROP TABLE BOARDATTACH CASCADE CONSTRAINTS;
DROP TABLE CALENDAR CASCADE CONSTRAINTS;
DROP TABLE CHAT CASCADE CONSTRAINTS;
DROP TABLE CHATROOM CASCADE CONSTRAINTS;
DROP TABLE DEPARTMENT CASCADE CONSTRAINTS;
DROP TABLE EDUAPPLY CASCADE CONSTRAINTS;
DROP TABLE EDUCATION CASCADE CONSTRAINTS;
DROP TABLE EDUREPORT CASCADE CONSTRAINTS;
DROP TABLE EMPLOYEE CASCADE CONSTRAINTS;
DROP TABLE JOB CASCADE CONSTRAINTS;
DROP TABLE MAIL CASCADE CONSTRAINTS;
DROP TABLE NOTIFICATION CASCADE CONSTRAINTS;
DROP TABLE PAY CASCADE CONSTRAINTS;
DROP TABLE SURVEY CASCADE CONSTRAINTS;
DROP TABLE SURVEYANSWER CASCADE CONSTRAINTS;
DROP TABLE SURVEYAPPLY CASCADE CONSTRAINTS;
DROP TABLE TODO CASCADE CONSTRAINTS;
DROP TABLE MAILATTACH CASCADE CONSTRAINTS;
DROP TABLE APPROVALATTACH CASCADE CONSTRAINTS;
DROP TABLE APPROVALDOC CASCADE CONSTRAINTS;
DROP TABLE APPROVALFORM CASCADE CONSTRAINTS;
DROP TABLE APPROVALSTATUS CASCADE CONSTRAINTS;
DROP TABLE DM CASCADE CONSTRAINTS;
DROP TABLE DM_TO CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_APDOC;
DROP SEQUENCE SEQ_APST;
DROP SEQUENCE SEQ_ATTACH_NO;
DROP SEQUENCE SEQ_ATTEN_NO;
DROP SEQUENCE SEQ_BGNO;
DROP SEQUENCE SEQ_BNO;
DROP SEQUENCE SEQ_CALENDAR;
DROP SEQUENCE SEQ_EAAP_NO;
DROP SEQUENCE SEQ_EDU_NO;
DROP SEQUENCE SEQ_MAIL;
DROP SEQUENCE SEQ_MAIL_ATTACH;
DROP SEQUENCE SEQ_PAY;
DROP SEQUENCE SEQ_TODO_NO;
DROP SEQUENCE SEQ_APATT;


   CREATE TABLE "ATTACH" -- 첨부파일
   (   "ATTACH_NO" NUMBER, 
   "BO_NO" NUMBER, 
   "ATTACH_ORINAME" VARCHAR2(1000), 
   "ATTACH_RENAME" VARCHAR2(1000), 
   "ATTACH_PATH" VARCHAR2(1000)
   ) ;

         
     CREATE TABLE "BOARD" --게시판
   (   "BO_NO" NUMBER, 
   "BO_CODE" VARCHAR2(100), 
   "BO_TITLE" VARCHAR2(1000), 
   "BO_CONTENT" VARCHAR2(4000), 
   "EMP_NO" NUMBER, 
   "BO_DATE" TIMESTAMP default sysdate, 
   "BO_STATUS" VARCHAR2(100) default 'y'
   ) ;
   
   
    CREATE SEQUENCE SEQ_BNO --게시판 시퀀스
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;


    CREATE TABLE "BOARDGROUP" --게시판그룹
   (   "BG_NO" NUMBER, 
   "BG_CODE" VARCHAR2(100), 
   "BG_TITLE" VARCHAR2(1000)
   ) ;
   
   CREATE SEQUENCE SEQ_BGNO --게시판그룹 시퀀스
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;
   
   
 
      
   CREATE TABLE "BOARDATTACH"  --게시판 첨부파일
   (   "ATTACH_NO" NUMBER, 
   "BO_NO" NUMBER, 
   "ATTACH_ORINAME" VARCHAR2(255), 
   "ATTACH_RENAME" VARCHAR2(255), 
   "ATTACH_PATH" VARCHAR2(255)
   ) ;
   
   
      CREATE SEQUENCE SEQ_ATTACH_NO --게시판 첨부파일 시퀀스
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;
    
    
   
   

  CREATE TABLE "TODO" --할 일
   (   "TODO_NO" NUMBER, 
   "EMP_NO" NUMBER, 
   "TODO_CONTENT" VARCHAR2(4000),
    "TODO_CONDITION" NUMBER DEFAULT 1,
   "TODO_STATUS" NUMBER DEFAULT 0
   );
   
    COMMENT ON COLUMN "TODO"."TODO_STATUS" IS '0 : 할일, 1 :  완료, 2 : 삭제';
    COMMENT ON COLUMN "TODO"."TODO_CONDITION" IS '0 : 긴급, 1 : 보통, 3 : 여유';
    
    CREATE SEQUENCE SEQ_TODO_NO --할 일 시퀀스
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;


   
   
     CREATE TABLE "MAIL" --메일
   (   
    "MAIL_NO" NUMBER, 
   "MAIL_SUBJECT" VARCHAR2(1000), 
   "MAIL_CONTENT" VARCHAR2(4000), 
   "MAIL_SENDDATE" TIMESTAMP (6) DEFAULT SYSDATE, 
   "MAIL_ISREAD" VARCHAR2(10) DEFAULT('N'), 
   "MAIL_FROMDEL" VARCHAR2(10) DEFAULT('N'), 
   "MAIL_TODEL" VARCHAR2(10) DEFAULT('N'), 
   "MAIL_STAR" VARCHAR2(10) DEFAULT('N'),
    "MAIL_MARK" NUMBER  DEFAULT(6), 
   "MAIL_TO_EMAIL" VARCHAR2(100), 
   "MAIL_FROM_EMAIL" VARCHAR2(100) ,
   "MAIL_NAME" VARCHAR2(100) 
   ) ;
   
   CREATE SEQUENCE  "COWORKS"."SEQ_MAIL"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 110 NOCACHE  NOORDER  NOCYCLE ;
   CREATE SEQUENCE  "COWORKS"."SEQ_MAIL_ATTACH"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 110 NOCACHE  NOORDER  NOCYCLE ;
  
     CREATE TABLE "MAILATTACH" --메일 첨부파일
   (   "ATTACH_NO" NUMBER, 
   "MAIL_NO" NUMBER, 
   "ATTACH_ORINAME" VARCHAR2(400), 
   "ATTACH_RENAME" VARCHAR2(400), 
   "ATTACH_PATH" VARCHAR2(1000)
   );
   
   CREATE TABLE "PAY" --월급
   (   
    "PAY_NO" NUMBER, 
    "EMP_NO" NUMBER, 
    "PAY_EMP_NAME" VARCHAR2(100), 
    "PAY_EMP_JOB" VARCHAR2(100), 
   "PAY_BASEPAY" NUMBER, 
   "PAY_JOBTITLE" NUMBER, 
   "PAY_OVERTIME" NUMBER, 
   "PAY_HOLLYDAY" NUMBER, 
   "PAY_BONUS" NUMBER, 
   "PAY_MEAL" NUMBER, 
   "PAY_TRANSPORT" NUMBER, 
   "PAY_WELFARE" NUMBER, 
   "PAY_INCOME" NUMBER, 
   "PAY_RESIDENT" NUMBER, 
   "PAY_EMPINS" NUMBER, 
   "PAY_NATION" NUMBER, 
   "PAY_HEALINS" NUMBER, 
   "PAY_OTHERS" NUMBER, 
   "PAY_PTOTAL" NUMBER, 
   "PAY_MTOTAL" NUMBER,   
   "PAY_TOTAL" NUMBER,
   "PAY_DATE" DATE
   );
   
CREATE SEQUENCE  "COWORKS"."SEQ_PAY"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 110 NOCACHE  NOORDER  NOCYCLE ;
   
   
   
   
   CREATE TABLE "SURVEY" --설문
   (	"SURVEY_NO" NUMBER, 
	"SURVEY_QUEST" VARCHAR2(3000), 
	"SURVEY_START" TIMESTAMP (6), 
	"SURVEY_END" TIMESTAMP (6)
   ) ;
   
   
   
     CREATE TABLE "SURVEYANSWER" --설문응답
   (	"SURVEYAN_NO" NUMBER, 
	"SURVEY_NO" NUMBER, 
	"SURVEY_CONTENT" VARCHAR2(4000)
   ) ;
   
   
   
     CREATE TABLE "SURVEYAPPLY" --설문등록
   (	"SURVEYAPP_NO" NUMBER, 
	"EMP_NO" NUMBER, 
	"SURVEY_NO" NUMBER
   ) ;



 CREATE TABLE "AUTHORITY" --권한
   (   "EMP_NO" NUMBER, 
   "AUTH_PERSONNAL" VARCHAR2(100), 
   "AUTH_DATA" VARCHAR2(100), 
   "AUTH_CAL" VARCHAR2(100), 
   "AUTH_BOARD" VARCHAR2(100), 
   "AUTH_APPROVAL" VARCHAR2(100), 
   "AUTH_AUTHORITY" VARCHAR2(100), 
   "AUTH_PAY" VARCHAR2(100)
   );



  CREATE TABLE "DEPARTMENT" 
   (	"DEPT_CODE" VARCHAR2(20), 
	"DEPT_NAME" VARCHAR2(100), 
	"DEPT_MGRNO" NUMBER
   );

CREATE TABLE "EMPLOYEE" --사원
   (   "EMP_NO" NUMBER(8,0), 
   "EMP_NAME" VARCHAR2(20), 
   "EMP_PASSWORD" VARCHAR2(100),
   "JOB_CODE" VARCHAR2(100), 
   "DEPT_CODE" VARCHAR2(100), 
   "EMP_PHONE" VARCHAR2(100), 
   "EMP_EMAIL" VARCHAR2(300), 
   "EMP_EMAILPASSWORD" VARCHAR2(100),
   "EMP_BIRTH" DATE, 
   "EMP_GENDER" VARCHAR2(5), 
   "EMP_HIREDATE" DATE, 
   "EMP_RESIGNDATE" DATE, 
   "EMP_ISWORK" VARCHAR2(5), 
   "EMP_SIGNATURE" VARCHAR2(200),
   EMP_AUTHORITY VARCHAR2(100),
   EMP_ADDRESS VARCHAR2(100)
   );
   
   
 CREATE TABLE "JOB" --직급
   (   "JOB_CODE" VARCHAR2(20), 
   "JOB_TITLE" VARCHAR2(30)
   );

    CREATE TABLE "CHAT" --채팅
   (	"CHAT_NO" NUMBER, 
	"CROOM_NO" NUMBER, 
	"CHAT_SENDNO" NUMBER, 
	"CHAT_CONTENT" VARCHAR2(4000), 
	"CHAT_SENDTIME" TIMESTAMP (6)
   );
   
   --------------------------------------------------------
--  DDL for Sequence SEQ_CHAT
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_CHAT"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 160 CACHE 20 NOORDER  NOCYCLE ;
   
      --------------------------------------------------------
--  DDL for Table CHATROOM 채팅방
--------------------------------------------------------

  CREATE TABLE "COWORKS"."CHATROOM" 
   (	"CROOM_INDEX" NUMBER, 
	"CROOM_NO" NUMBER, 
	"EMP_NO" NUMBER, 
	"CROOM_TITLE" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."CHATROOM"."CROOM_INDEX" IS '인덱스';
   COMMENT ON COLUMN "COWORKS"."CHATROOM"."CROOM_NO" IS '방번호';
   COMMENT ON COLUMN "COWORKS"."CHATROOM"."EMP_NO" IS '사원번호';
   COMMENT ON COLUMN "COWORKS"."CHATROOM"."CROOM_TITLE" IS '방제목';
--------------------------------------------------------
--  DDL for Index CHATROOM_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "COWORKS"."CHATROOM_PK" ON "COWORKS"."CHATROOM" ("CROOM_INDEX") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index CHATROOM_UK1
--------------------------------------------------------

  CREATE UNIQUE INDEX "COWORKS"."CHATROOM_UK1" ON "COWORKS"."CHATROOM" ("CROOM_NO", "EMP_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table CHATROOM
--------------------------------------------------------

  ALTER TABLE "COWORKS"."CHATROOM" ADD CONSTRAINT "CHATROOM_UK1" UNIQUE ("CROOM_NO", "EMP_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."CHATROOM" ADD CONSTRAINT "CHATROOM_PK" PRIMARY KEY ("CROOM_INDEX")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."CHATROOM" MODIFY ("CROOM_INDEX" NOT NULL ENABLE);
  
  --------------------------------------------------------
--  DDL for Sequence SEQ_CRINDEX
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_CRINDEX"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_CRNO
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_CRNO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 101 CACHE 20 NOORDER  NOCYCLE ;
  
   
   
   
   

--------------------------------------------------------
--  DDL for Table APPROVALATTACH
--------------------------------------------------------

  CREATE TABLE "COWORKS"."APPROVALATTACH" 
   (	"APATT_NO" NUMBER, 
	"ADOC_NO" NUMBER, 
	"APATT_ORINAME" VARCHAR2(200 BYTE), 
	"APATT_RENAME" VARCHAR2(200 BYTE), 
	"APATT_PATH" VARCHAR2(500 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."APPROVALATTACH"."APATT_NO" IS '결재첨부index';
   COMMENT ON COLUMN "COWORKS"."APPROVALATTACH"."ADOC_NO" IS '결재서류index';
   COMMENT ON COLUMN "COWORKS"."APPROVALATTACH"."APATT_ORINAME" IS '기존이름';
   COMMENT ON COLUMN "COWORKS"."APPROVALATTACH"."APATT_RENAME" IS '변경이름';
   COMMENT ON COLUMN "COWORKS"."APPROVALATTACH"."APATT_PATH" IS '파일경로';
--------------------------------------------------------
--  DDL for Index APPROVALATTACH_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "COWORKS"."APPROVALATTACH_PK" ON "COWORKS"."APPROVALATTACH" ("APATT_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table APPROVALATTACH
--------------------------------------------------------

  ALTER TABLE "COWORKS"."APPROVALATTACH" MODIFY ("APATT_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALATTACH" ADD CONSTRAINT "APPROVALATTACH_PK" PRIMARY KEY ("APATT_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."APPROVALATTACH" MODIFY ("ADOC_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALATTACH" MODIFY ("APATT_ORINAME" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALATTACH" MODIFY ("APATT_RENAME" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALATTACH" MODIFY ("APATT_PATH" NOT NULL ENABLE);


--------------------------------------------------------
--  DDL for Sequence SEQ_APATT
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_APATT"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 20035 CACHE 20 NOORDER  NOCYCLE ;




--------------------------------------------------------
--  DDL for Table APPROVALDOC
--------------------------------------------------------

  CREATE TABLE "COWORKS"."APPROVALDOC" 
   (	"ADOC_NO" NUMBER, 
	"AFORM_NO" NUMBER, 
	"ADOC_WRITERNO" NUMBER, 
	"ADOC_UPLOADDATE" TIMESTAMP (6) DEFAULT SYSDATE, 
	"ADOC_SECURITY" NUMBER, 
	"ADOC_EXPIRATION" DATE, 
	"ADOC_SUBJECT" VARCHAR2(100 BYTE), 
	"ADOC_CONTENT" VARCHAR2(4000 BYTE), 
	"ADOC_STATUS" NUMBER DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_NO" IS '서류index';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."AFORM_NO" IS '결재폼';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_WRITERNO" IS '작성자';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_UPLOADDATE" IS '서류등록일';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_SECURITY" IS '보안등급';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_EXPIRATION" IS '서류 만료일';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_SUBJECT" IS '서류제목';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_CONTENT" IS '서류 내용 JSON';
   COMMENT ON COLUMN "COWORKS"."APPROVALDOC"."ADOC_STATUS" IS '0 : 대기, 1 : 1차승인. 2 : 승인.  -1 : 반려';
--------------------------------------------------------
--  DDL for Index APPROVALDOC_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "COWORKS"."APPROVALDOC_PK" ON "COWORKS"."APPROVALDOC" ("ADOC_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table APPROVALDOC
--------------------------------------------------------

  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" ADD CONSTRAINT "APPROVALDOC_PK" PRIMARY KEY ("ADOC_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("AFORM_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_WRITERNO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_UPLOADDATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_SECURITY" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_EXPIRATION" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_SUBJECT" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_CONTENT" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALDOC" MODIFY ("ADOC_STATUS" NOT NULL ENABLE);


--------------------------------------------------------
--  DDL for Sequence SEQ_APDOC
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_APDOC"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 16523546 CACHE 20 NOORDER  NOCYCLE ;





--------------------------------------------------------
--  DDL for Table APPROVALFORM
--------------------------------------------------------

  CREATE TABLE "COWORKS"."APPROVALFORM" 
   (	"AFORM_NO" NUMBER, 
	"AFORM_TITLE" VARCHAR2(100 BYTE), 
	"AFORM_FOLDERNAME" VARCHAR2(100 BYTE) DEFAULT '공용문서', 
	"AFORM_FORMPAGE" VARCHAR2(100 BYTE), 
	"AFORM_DOCPAGE" VARCHAR2(100 BYTE) DEFAULT 'defaultForm'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."APPROVALFORM"."AFORM_NO" IS '결재폼index';
   COMMENT ON COLUMN "COWORKS"."APPROVALFORM"."AFORM_TITLE" IS '결재폼이름';
   COMMENT ON COLUMN "COWORKS"."APPROVALFORM"."AFORM_FOLDERNAME" IS '결재폼폴더(부서)';
   COMMENT ON COLUMN "COWORKS"."APPROVALFORM"."AFORM_FORMPAGE" IS 'writeFormJSP';
   COMMENT ON COLUMN "COWORKS"."APPROVALFORM"."AFORM_DOCPAGE" IS 'loadFormJSP';
--------------------------------------------------------
--  DDL for Index APPROVALFORM_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "COWORKS"."APPROVALFORM_PK" ON "COWORKS"."APPROVALFORM" ("AFORM_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table APPROVALFORM
--------------------------------------------------------

  ALTER TABLE "COWORKS"."APPROVALFORM" MODIFY ("AFORM_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALFORM" ADD CONSTRAINT "APPROVALFORM_PK" PRIMARY KEY ("AFORM_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."APPROVALFORM" MODIFY ("AFORM_FOLDERNAME" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALFORM" MODIFY ("AFORM_TITLE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALFORM" MODIFY ("AFORM_FORMPAGE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALFORM" MODIFY ("AFORM_DOCPAGE" NOT NULL ENABLE);






--------------------------------------------------------
--  DDL for Table APPROVALSTATUS
--------------------------------------------------------

  CREATE TABLE "COWORKS"."APPROVALSTATUS" 
   (	"AS_NO" NUMBER, 
	"ADOC_NO" NUMBER, 
	"EMP_NO" NUMBER, 
	"AS_STATUS" NUMBER DEFAULT 0, 
	"AS_DATE" DATE DEFAULT NULL
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."APPROVALSTATUS"."AS_NO" IS '결재자index';
   COMMENT ON COLUMN "COWORKS"."APPROVALSTATUS"."ADOC_NO" IS '결재서류index';
   COMMENT ON COLUMN "COWORKS"."APPROVALSTATUS"."EMP_NO" IS '결재자empNo';
   COMMENT ON COLUMN "COWORKS"."APPROVALSTATUS"."AS_STATUS" IS '0 : 대기중, 1 :  승인, -1 : 반려';
   COMMENT ON COLUMN "COWORKS"."APPROVALSTATUS"."AS_DATE" IS '결재일';
--------------------------------------------------------
--  DDL for Index APPROVALSTATUS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "COWORKS"."APPROVALSTATUS_PK" ON "COWORKS"."APPROVALSTATUS" ("AS_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table APPROVALSTATUS
--------------------------------------------------------

  ALTER TABLE "COWORKS"."APPROVALSTATUS" MODIFY ("AS_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALSTATUS" ADD CONSTRAINT "APPROVALSTATUS_PK" PRIMARY KEY ("AS_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."APPROVALSTATUS" MODIFY ("ADOC_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALSTATUS" MODIFY ("EMP_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."APPROVALSTATUS" MODIFY ("AS_STATUS" NOT NULL ENABLE);

--------------------------------------------------------
--  DDL for Sequence SEQ_APST
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_APST"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ;








--------------------------------------------------------
--  DDL for Table EDUREPORT
--------------------------------------------------------

  CREATE TABLE "COWORKS"."EDUREPORT" 
   (	"EDUREP_NO" NUMBER, 
	"EDU_NO" NUMBER, 
	"EMP_NO" NUMBER, 
	"EDUREP_TITLE" VARCHAR2(100 BYTE), 
	"EDUREP_CONTENT" VARCHAR2(4000 BYTE), 
	"EDUREP_DATE" TIMESTAMP (6) DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."EDUREPORT"."EDUREP_NO" IS '교육보고서index';
   COMMENT ON COLUMN "COWORKS"."EDUREPORT"."EDU_NO" IS '교육index';
   COMMENT ON COLUMN "COWORKS"."EDUREPORT"."EMP_NO" IS '작성자사번';
   COMMENT ON COLUMN "COWORKS"."EDUREPORT"."EDUREP_TITLE" IS '보고서제목';
   COMMENT ON COLUMN "COWORKS"."EDUREPORT"."EDUREP_CONTENT" IS '보고서내용JSON';
   COMMENT ON COLUMN "COWORKS"."EDUREPORT"."EDUREP_DATE" IS '작성일';
--------------------------------------------------------
--  Constraints for Table EDUREPORT
--------------------------------------------------------

  ALTER TABLE "COWORKS"."EDUREPORT" MODIFY ("EDUREP_DATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUREPORT" MODIFY ("EDUREP_CONTENT" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUREPORT" MODIFY ("EDUREP_TITLE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUREPORT" MODIFY ("EMP_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUREPORT" MODIFY ("EDU_NO" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUREPORT" MODIFY ("EDUREP_NO" NOT NULL ENABLE);
  
  --------------------------------------------------------
--  DDL for Sequence SEQ_EDUREP
--------------------------------------------------------

   CREATE SEQUENCE  "COWORKS"."SEQ_EDUREP"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 120 CACHE 20 NOORDER  NOCYCLE ; 
   
   
   
   
   -- create caelendar 캘린더 ( 일정) 생성
 
  CREATE TABLE "COWORKS"."CALENDAR" 
   (	"CAL_NO" NUMBER, 
	"CAL_HOLDER" VARCHAR2(100 BYTE), 
	"CAL_TYPE" VARCHAR2(100 BYTE), 
	"CAL_COLOR" VARCHAR2(20 BYTE), 
	"CAL_NAME" VARCHAR2(1000 BYTE), 
	"CAL_CONTENT" VARCHAR2(4000 BYTE), 
	"CAL_BEGINDATE" TIMESTAMP (6), 
	"CAL_ENDDATE" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_NO" IS '일정index';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_HOLDER" IS '보유자';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_TYPE" IS '일정유형';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_COLOR" IS '일정색';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_NAME" IS '일정명';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_CONTENT" IS '일정상세';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_BEGINDATE" IS '시작일';
   COMMENT ON COLUMN "COWORKS"."CALENDAR"."CAL_ENDDATE" IS '종료일';
 
  CREATE UNIQUE INDEX "COWORKS"."CALENDAR_PK" ON "COWORKS"."CALENDAR" ("CAL_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
 
  ALTER TABLE "COWORKS"."CALENDAR" ADD CONSTRAINT "CALENDAR_PK" PRIMARY KEY ("CAL_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."CALENDAR" MODIFY ("CAL_ENDDATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."CALENDAR" MODIFY ("CAL_BEGINDATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."CALENDAR" MODIFY ("CAL_COLOR" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."CALENDAR" MODIFY ("CAL_TYPE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."CALENDAR" MODIFY ("CAL_HOLDER" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."CALENDAR" MODIFY ("CAL_NO" NOT NULL ENABLE);


-- 캘린더 시퀀스
CREATE SEQUENCE SEQ_CALENDAR
  START WITH 12
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE; 


-- create attendance 근태 생성
 
  CREATE TABLE "COWORKS"."ATTENDANCE" 
   (	"ATTEN_NO" NUMBER, 
	"EMP_NO" NUMBER, 
	"ATTEN_DATE" DATE, 
	"ATTEN_ATTTIME" TIMESTAMP (6), 
	"ATTEN_LEAVETIME" TIMESTAMP (6), 
	"ATTEN_ATTLATE" VARCHAR2(20 BYTE), 
	"ATTEN_LEAVEEARLY" VARCHAR2(50 BYTE), 
	"ATTEN_HOURS" VARCHAR2(20 BYTE), 
	"ATTEN_ATTIP" VARCHAR2(100 BYTE), 
	"ATTEN_LEAVEIP" VARCHAR2(100 BYTE), 
	"ATTEN_STATE" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_NO" IS '근태index';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."EMP_NO" IS '사원번호';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_DATE" IS '출근날짜';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_ATTTIME" IS '출근시간';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_LEAVETIME" IS '퇴근시간';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_ATTLATE" IS '지각시간';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_LEAVEEARLY" IS '조퇴시간';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_HOURS" IS '근무시간';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_ATTIP" IS '출근IP';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_LEAVEIP" IS '퇴근IP';
   COMMENT ON COLUMN "COWORKS"."ATTENDANCE"."ATTEN_STATE" IS '출퇴근상태';
 
  CREATE UNIQUE INDEX "COWORKS"."ATTENDANCE_PK" ON "COWORKS"."ATTENDANCE" ("ATTEN_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
 
  ALTER TABLE "COWORKS"."ATTENDANCE" ADD CONSTRAINT "ATTENDANCE_PK" PRIMARY KEY ("ATTEN_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."ATTENDANCE" MODIFY ("ATTEN_NO" NOT NULL ENABLE);

-- 근태 시퀀스  
  CREATE SEQUENCE SEQ_ATTEN_NO
  START WITH 1
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE; 

-- create education 교육 생성
 
  CREATE TABLE "COWORKS"."EDUCATION" 
   (	"EDU_NO" NUMBER, 
	"EDU_TITLE" VARCHAR2(1000 BYTE), 
	"EDU_INSTRUCTOR" VARCHAR2(100 BYTE), 
	"EDU_TYPE" VARCHAR2(100 BYTE), 
	"EDU_LIMITCNT" NUMBER, 
	"EDU_CURCNT" NUMBER, 
	"EDU_EDUDATE" TIMESTAMP (6), 
	"EDU_APPLYBGDATE" TIMESTAMP (6), 
	"EDU_APPLYENDDATE" TIMESTAMP (6), 
	"EDU_APPLYSTATE" VARCHAR2(100 BYTE), 
	"EDU_IMAGE" VARCHAR2(1000 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_NO" IS '교육번호';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_TITLE" IS '교육명';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_INSTRUCTOR" IS '강사';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_TYPE" IS '교육유형';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_LIMITCNT" IS '정원';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_CURCNT" IS '신청인원';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_EDUDATE" IS '교육일';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_APPLYBGDATE" IS '신청가능일';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_APPLYENDDATE" IS '신청마감일';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_APPLYSTATE" IS '신청가능여부';
   COMMENT ON COLUMN "COWORKS"."EDUCATION"."EDU_IMAGE" IS '교육설명이미지';
 

  CREATE UNIQUE INDEX "COWORKS"."EDUCATION_PK" ON "COWORKS"."EDUCATION" ("EDU_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ; 

  ALTER TABLE "COWORKS"."EDUCATION" ADD CONSTRAINT "EDUCATION_PK" PRIMARY KEY ("EDU_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."EDUCATION" MODIFY ("EDU_APPLYENDDATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUCATION" MODIFY ("EDU_APPLYBGDATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUCATION" MODIFY ("EDU_EDUDATE" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUCATION" MODIFY ("EDU_CURCNT" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUCATION" MODIFY ("EDU_LIMITCNT" NOT NULL ENABLE);
  ALTER TABLE "COWORKS"."EDUCATION" MODIFY ("EDU_NO" NOT NULL ENABLE);

-- 교육 시퀀스
  CREATE SEQUENCE SEQ_EDU_NO
  START WITH 7
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE; 

-- create eduapply 교육신청 생성

 
  CREATE TABLE "COWORKS"."EDUAPPLY" 
   (	"EAPP_NO" NUMBER, 
	"EMP_NO" NUMBER, 
	"EDU_NO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "COWORKS"."EDUAPPLY"."EAPP_NO" IS '교육신청index';
   COMMENT ON COLUMN "COWORKS"."EDUAPPLY"."EMP_NO" IS '사원번호';
   COMMENT ON COLUMN "COWORKS"."EDUAPPLY"."EDU_NO" IS '교육번호';
 
  CREATE UNIQUE INDEX "COWORKS"."EDUAPPLY_PK" ON "COWORKS"."EDUAPPLY" ("EAPP_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
 
  
  ALTER TABLE "COWORKS"."EDUAPPLY" ADD CONSTRAINT "EDUAPPLY_PK" PRIMARY KEY ("EAPP_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "COWORKS"."EDUAPPLY" MODIFY ("EAPP_NO" NOT NULL ENABLE);
  
  
-- 교육신청 시퀀스
  CREATE SEQUENCE SEQ_EAAP_NO
  START WITH 1
  INCREMENT BY 1
  MAXVALUE 10000
  MINVALUE 1
  NOCYCLE;  
  
  
  
  --------------------------------------
  
--------------------------------------------------------
--  DDL for View EMPVIEW
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "COWORKS"."EMPVIEW" ("EMP_NO", "EMP_NAME", "EMP_PASSWORD", "JOB_CODE", "DEPT_CODE", "EMP_PHONE", "EMP_EMAIL", "EMP_EMAILPASSWORD", "EMP_BIRTH", "EMP_GENDER", "EMP_HIREDATE", "EMP_RESIGNDATE", "EMP_ISWORK", "EMP_SIGNATURE", "EMP_AUTHORITY", "EMP_ADDRESS", "DEPT_NAME", "JOB_TITLE") AS 
  SELECT 
    employee."EMP_NO",employee."EMP_NAME",employee."EMP_PASSWORD",employee."JOB_CODE",employee."DEPT_CODE",employee."EMP_PHONE",employee."EMP_EMAIL",employee."EMP_EMAILPASSWORD",employee."EMP_BIRTH",employee."EMP_GENDER",employee."EMP_HIREDATE",employee."EMP_RESIGNDATE",employee."EMP_ISWORK",employee."EMP_SIGNATURE",employee."EMP_AUTHORITY",employee."EMP_ADDRESS",department.dept_name, job_title
FROM 
    employee, department, job
where employee.dept_code=department.dept_code and employee.job_code=job.job_code
;


--------------------------------------------------------
--  DDL for View CURAPPVIEW
--------------------------------------------------------
-------------------------------------------------
--쪽지  
CREATE TABLE "DM" 
   (   "DM_NO" NUMBER, 
   "DM_FROM" NUMBER, 
   "DM_SUBJECT" VARCHAR2(200), 
   "DM_CONTENT" VARCHAR2(2000), 
   "DM_DATE" TIMESTAMP (6) DEFAULT SYSDATE, 
   "DM_FROM_DEL" VARCHAR2(10) DEFAULT 'N', 
   "DM_TO" NUMBER, 
   "DM_TO_DEL" VARCHAR2(10) DEFAULT 'N', 
   "DM_TO_READ" VARCHAR2(20) DEFAULT 'N'
   )
       
      CREATE OR REPLACE VIEW "DMVIEW" ("DM_NO", "DM_FROM", "DM_SUBJECT", "DM_CONTENT", "DM_DATE", "DM_FROM_DEL", "DM_FROM_NAME", "DM_FROM_DEPT", "DM_FROM_JOB", "DM_TO", "DM_TO_DEL", "DM_TO_READ") AS 
      SELECT 
     dm.dm_no,
     dm.dm_from,dm_subject, dm.dm_content, dm.dm_date,
     dm.dm_from_del, employee.emp_name, department.dept_name, job.job_title  ,dm.dm_to, dm.dm_to_del, dm.dm_to_read
     
    FROM 
        employee,department,job, dm 
    where employee.dept_code=department.dept_code and employee.job_code=job.job_code
    and employee.emp_no = dm_from;
 

   
CREATE SEQUENCE  "COWORKS"."SEQ_DM"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 110 NOCACHE  NOORDER  NOCYCLE ;
CREATE SEQUENCE  "COWORKS"."SEQ_DM_TO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 110 NOCACHE  NOORDER  NOCYCLE ;

  CREATE OR REPLACE FORCE VIEW "COWORKS"."CURAPPVIEW" ("ADOC_NO", "CURAPPNO") AS 
  SELECT
		DOC.adoc_no,emp.emp_no curappno
		FROM
		APPROVALDOC DOC,
		EMPLOYEE EMP,
		(
		SELECT
		ROW_NUMBER() OVER(
		PARTITION BY AP.ADOC_NO
		ORDER BY
		JOB_CODE DESC,
		EMP_HIREDATE
		) RNUM,
		AP.*
		FROM
		APPROVALSTATUS AP,
		EMPLOYEE E
		WHERE
		AP.AS_STATUS in (0,1)
		AND AP.EMP_NO = E.EMP_NO
		) ST
		WHERE DOC.ADOC_NO = ST.ADOC_NO
		AND DOC.ADOC_STATUS = 0
		AND ST.RNUM = 1 and emp.emp_no = st.emp_no
;
