<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="employee">
	<resultMap id="resultEmployee" type="employee">
		<result property="emp_authority" column="emp_authority"
		        typeHandler="strArrTypeHandler" />
	</resultMap>
	
	<select id="selectEmployeeList" resultType="employee">
		SELECT EMP_NAME, JOB_TITLE, DEPT_NAME, EMP_PHONE
		FROM EMPLOYEE E, DEPARTMENT D, JOB J
		WHERE E.JOB_CODE = J.Job_Code
        AND E.Dept_Code = D.Dept_Code
        ORDER BY E.EMP_NO DESC
	</select>
	
	<select id="selectEmployeeTotalContents" resultType="_int">
		SELECT COUNT(*) FROM EMPLOYEE
	</select>
	
	<insert id="insertEmployee" parameterType="employee">
		INSERT INTO EMPLOYEE VALUES(
			SEQ_EMPLOYEE.NEXTVAL, #{emp_name}, #{job_code},
			#{dept_code}, #{emp_phone}, #{emp_email}, #{emp_birth},
			#{emp_gender}, DEFAULT, DEFAULT, DEFAULT, DEFAULT,#{emp_authority,typeHandler=strArrTypeHandler}
			)	
	</insert>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</mapper>
